<%- include('../admin/layouts/admin-header.ejs') %>






<body>
    <div class="screen-overlay"></div>
    
    <main class="main-wrap">
        
        <section class="content-main">
            <div class="row">
                <div class="col-6">
                    <div class="content-header">
                        <h2 class="content-title">Add New Product</h2>
                        <!-- <div>
                            <button class="btn btn-light rounded font-sm mr-5 text-body hover-up">Save to draft</button>
                            <!-- <button  type="submit" class="btn btn-md rounded font-sm hover-up">Publich</button> -->
                        <!-- </div> --> 
                    </div>
                </div>
            </div>
            <form id="product-form" action="/admin/addproducts"  method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="col-lg-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <h6>1. General info</h6>
                                </div>
                                <div class="col-md-9">
                                    <div class="mb-4">
                                        <label class="form-label">Product title</label>
                                        <input id="productname" type="text" name="productName" placeholder="Type here" class="form-control">
                      <p id="messagep" style="color: red" ;> </p>

                                    </div>
                                    <div class="mb-4">
                                        <label class="form-label">Description</label>
                                        <textarea id="description" placeholder="Type here" name="description"  class="form-control" rows="4"></textarea>
                      <p id="messaged" style="color: red" ;> </p>

                                    </div>
                                    <div class="mb-4">
                                        <label class="form-label">Brand name</label>
                                        <select name="brand"  class="form-select">
                                            <option> D11</option>
                                            <!-- <option> PETTER ENGLAND </option>
                                            <option> LEVIS </option> -->
                                        </select>
                                    </div>
                                </div> <!-- col.// -->
                            </div> <!-- row.// -->
                            <hr class="mb-4 mt-0">
                            <div class="row">
                                <div class="col-md-3">
                                    <h6>2. Pricing</h6>
                                </div>
                                <div class="col-md-9">
                                    <div class="mb-4">
                                        <label class="form-label">Cost in USD</label>
                                        <input id="cost" type="text" name="price" placeholder="$00.0" class="form-control">
                      <p id="messagec" style="color: red" ;> </p>

                                    </div>
                                </div> <!-- col.// -->
                            </div> <!-- row.// -->
                            <hr class="mb-4 mt-0">
                            <div class="row">
                                <div class="col-md-3">
                                    <h6>3. Category</h6>
                                </div>
                                 <div class="col-md-9">
                                    <div class="mb-4">
              <% categories.forEach(function(x){ %>

                                        <label class="mb-2 form-check form-check-inline" style="width: 45%;">
                                            <input class="form-check-input" checked="" value="<%= x._id %>" name="mycategory" type="radio">
                                            
                                                  <span class="form-check-label">                   <%= x.name %>
                                                  </span>
                                        </label>
                                        <% }) %>
                                        
                                        
                                      

                                    </div>
                                </div> <!-- col.// -->
                            </div> <!-- row.// -->
                            <hr class="mb-4 mt-0">
                            <div class="row">
                                <div class="col-md-3">
                                    <h6>4. Media</h6>
                                </div>
                                <div class="col-md-9">
                                    <div class="mb-4">
                                        <label class="form-label">Images</label>
                                        <input id="imagep" name="image" multiple class="form-control"  type="file">
                                        <!-- id="productimage" -->
                      <p id="messagei" style="color: red" ;> </p>

                                    </div>
                                </div> <!-- col.// -->
                            </div> <!-- .row end// -->
                            <button  type="submit" class="btn btn-md rounded font-sm hover-up">Publish</button>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </form>
        </section> <!-- content-main end// -->
  <script src="/javascripts/allformvalidation.js"></script>
  <script>
    const fileInput = document.getElementById("imagep");
fileInput.addEventListener("change", validatePhoto);

function validatePhoto() {
    console.log(">>>>>");
  const file = fileInput.files[0];
  const fileType = file.type;
  const fileSize = file.size;
  const allowedTypes = ["image/jpeg", "image/png", "image/gif","image/webp"]; // add more allowed types if necessary

  if (!allowedTypes.includes(fileType)) {
    swal("Invalid file type. Please select an image file.");
    fileInput.value = "";
    return false;
  }

  if (fileSize > 5000000) {
    swal("File size is too large. Please select a file smaller than 5MB.");
    fileInput.value = "";
    return false;
  }

  return true;
}

</script>

        <%- include('../admin/layouts/admin-footer.ejs') %>


